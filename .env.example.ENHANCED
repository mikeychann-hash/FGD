# ========================================
# AICraft Cluster Dashboard
# Environment Configuration
# ========================================
#
# IMPORTANT: Copy this file to .env and fill in your values
#
# Security Notes:
# - NEVER commit .env to version control
# - Generate strong random values for all secrets
# - Change all default API keys in production
# - Use different credentials for each environment
#
# Required variables are marked with [REQUIRED]
# Optional variables are marked with [OPTIONAL]
# Production-specific variables are marked with [PRODUCTION]
#
# ========================================

# ========================================
# SERVER CONFIGURATION
# ========================================

# Server listening port
# Default: 3000
PORT=3000

# Node environment
# Values: development | production | test
# [REQUIRED]
NODE_ENV=development

# ========================================
# SECURITY & AUTHENTICATION
# ========================================

# JWT Secret Key
# [REQUIRED] Must be a strong random string
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# ⚠️ WARNING: If not set, a random key will be generated on each restart
JWT_SECRET=

# JWT Token Expiration
# Recommended: 1h for production, 24h for development
# Format: 1h, 2d, 30m, etc.
# Default: 24h
JWT_EXPIRES_IN=1h

# Admin API Key
# [REQUIRED] Used for admin panel authentication
# ⚠️ WARNING: Change from default 'folks123' in production
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ADMIN_API_KEY=folks123

# LLM Service API Key
# [REQUIRED] Used for LLM command service authentication
# ⚠️ WARNING: Change from default 'llm-key-change-me' in production
LLM_API_KEY=llm-key-change-me

# ========================================
# DATABASE CONFIGURATION
# ========================================

# PostgreSQL Database Configuration
# [REQUIRED]

# Database host
# Production: Use private network address or managed database hostname
DB_HOST=localhost

# Database port
# Default: 5432
DB_PORT=5432

# Database name
# Default: fgd_aicraft
DB_NAME=fgd_aicraft

# Database user
# [REQUIRED]
# ⚠️ WARNING: Do not use 'postgres' in production
DB_USER=postgres

# Database password
# [REQUIRED]
# ⚠️ CRITICAL: Must be set for production
# Generate strong password: openssl rand -base64 32
DB_PASSWORD=

# Connection Pool Configuration
# [OPTIONAL]

# Maximum number of clients in the pool
# Default: 20
DB_POOL_MAX=20

# Idle timeout in milliseconds
# Default: 30000 (30 seconds)
DB_IDLE_TIMEOUT=30000

# Connection timeout in milliseconds
# Default: 2000 (2 seconds)
DB_CONNECTION_TIMEOUT=2000

# ========================================
# REDIS CONFIGURATION
# ========================================
# [OPTIONAL] Used for caching and session storage

# Redis host
REDIS_HOST=localhost

# Redis port
# Default: 6379
REDIS_PORT=6379

# Redis password
# [PRODUCTION] Required if Redis requires authentication
REDIS_PASSWORD=

# Redis database number
# Default: 0
REDIS_DB=0

# ========================================
# CORS CONFIGURATION
# ========================================

# Allowed Origins for CORS
# [REQUIRED in production]
# Comma-separated list of allowed origins
# Example: http://localhost:3000,https://yourdomain.com
# ⚠️ WARNING: Using '*' (wildcard) in production is a security risk
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# ========================================
# RATE LIMITING CONFIGURATION
# ========================================
# [OPTIONAL] If not set, defaults are used

# API rate limit window in milliseconds
# Default: 900000 (15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window
# Default: 100
RATE_LIMIT_MAX=100

# Auth endpoint rate limit (stricter)
# Default: 5 login attempts per 15 minutes
AUTH_RATE_LIMIT_MAX=5

# ========================================
# LLM PROVIDER CONFIGURATION
# ========================================

# LLM Provider Selection
# [REQUIRED]
# Values: openai | grok
LLM_PROVIDER=openai

# ------------------
# OpenAI Configuration
# ------------------

# OpenAI API Key
# [REQUIRED if LLM_PROVIDER=openai]
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# OpenAI API URL
# [OPTIONAL] Override for custom endpoints or proxies
# Default: https://api.openai.com/v1/chat/completions
OPENAI_API_URL=https://api.openai.com/v1/chat/completions

# OpenAI Model
# [OPTIONAL]
# Default: gpt-4
# Options: gpt-4, gpt-4-turbo, gpt-3.5-turbo
OPENAI_MODEL=gpt-4

# ------------------
# Grok (xAI) Configuration
# ------------------

# Grok API Key
# [REQUIRED if LLM_PROVIDER=grok]
# Get from: https://console.x.ai
# Note: Both GROK_API_KEY and XAI_API_KEY are supported
GROK_API_KEY=
XAI_API_KEY=

# Grok API URL
# [OPTIONAL]
# Default: https://api.x.ai/v1/chat/completions
GROK_API_URL=https://api.x.ai/v1/chat/completions
XAI_API_URL=https://api.x.ai/v1/chat/completions

# Grok Model
# [OPTIONAL]
# Default: grok-beta
GROK_MODEL=grok-beta

# ------------------
# LLM Behavior Configuration
# ------------------

# LLM Control Ratio
# [OPTIONAL]
# Controls how much autonomy LLM has
# Range: 0.0 - 1.0
# Default: 0.5
LLM_CONTROL_RATIO=0.5

# LLM Request Timeout (milliseconds)
# [OPTIONAL]
# Default: 30000 (30 seconds)
LLM_TIMEOUT=30000

# ========================================
# MINECRAFT SERVER CONFIGURATION
# ========================================

# Minecraft RCON Configuration
# [OPTIONAL] Only needed if connecting to Minecraft server

# RCON Host
MINECRAFT_RCON_HOST=127.0.0.1

# RCON Port
# Default: 25575
MINECRAFT_RCON_PORT=25575

# RCON Password
# [REQUIRED if using RCON]
MINECRAFT_RCON_PASSWORD=

# Minecraft Server Host (for Mineflayer bots)
# [OPTIONAL]
MINECRAFT_SERVER_HOST=localhost

# Minecraft Server Port
# Default: 25565
MINECRAFT_SERVER_PORT=25565

# Bot Username Pattern
# [OPTIONAL]
# Default: bot_{timestamp}
BOT_USERNAME_PREFIX=aicraft_bot

# ========================================
# LOGGING CONFIGURATION
# ========================================

# Log Level
# [OPTIONAL]
# Values: ERROR | WARN | INFO | DEBUG | TRACE
# Default: INFO
LOG_LEVEL=INFO

# Log File Path
# [OPTIONAL]
# Leave empty to log to console only
LOG_FILE=

# Log to File (in addition to console)
# [OPTIONAL]
# Values: true | false
# Default: false
LOG_TO_FILE=false

# Log Directory
# [OPTIONAL]
# Default: ./logs
LOG_DIR=logs

# ========================================
# FGD (Federation Governance Dashboard) PATHS
# ========================================
# [OPTIONAL] Override default paths if needed

# Memory persistence file
# Default: .fgd_memory.json
FGD_MEMORY_FILE=.fgd_memory.json

# Watch directory for file changes
# Default: . (current directory)
FGD_WATCH_DIR=.

# Data directory
# Default: ./data
FGD_DATA_DIR=data

# ========================================
# WEBSOCKET CONFIGURATION
# ========================================
# [OPTIONAL] Socket.IO settings

# WebSocket Ping Interval (milliseconds)
# Default: 25000 (25 seconds)
WS_PING_INTERVAL=25000

# WebSocket Ping Timeout (milliseconds)
# Default: 60000 (60 seconds)
WS_PING_TIMEOUT=60000

# WebSocket Max Buffer Size (bytes)
# Default: 1000000 (1MB)
WS_MAX_BUFFER_SIZE=1000000

# ========================================
# PERFORMANCE & OPTIMIZATION
# ========================================

# Enable Gzip Compression
# [OPTIONAL]
# Values: true | false
# Default: true
ENABLE_COMPRESSION=true

# Compression Threshold (bytes)
# [OPTIONAL]
# Files smaller than this won't be compressed
# Default: 1024 (1KB)
COMPRESSION_THRESHOLD=1024

# Compression Level
# [OPTIONAL]
# Range: 0-9 (0=no compression, 9=max compression)
# Default: 6
COMPRESSION_LEVEL=6

# ========================================
# MONITORING & METRICS
# ========================================
# [OPTIONAL] Prometheus metrics endpoint

# Enable Prometheus Metrics
# [OPTIONAL]
# Values: true | false
# Default: true
ENABLE_METRICS=true

# Metrics Endpoint Path
# [OPTIONAL]
# Default: /metrics
METRICS_PATH=/metrics

# ========================================
# BOT MANAGEMENT CONFIGURATION
# ========================================

# Maximum number of bots allowed
# [OPTIONAL]
# Default: 20
MAX_BOTS=20

# Bot spawn timeout (milliseconds)
# [OPTIONAL]
# Default: 30000 (30 seconds)
BOT_SPAWN_TIMEOUT=30000

# Bot command timeout (milliseconds)
# [OPTIONAL]
# Default: 60000 (60 seconds)
BOT_COMMAND_TIMEOUT=60000

# ========================================
# POLICY & LEARNING CONFIGURATION
# ========================================

# Default learning rate
# [OPTIONAL]
# Range: 0.1 - 2.0
# Default: 1.0
DEFAULT_LEARNING_RATE=1.0

# Default delegation bias
# [OPTIONAL]
# Range: 0.0 - 1.0
# Default: 0.5
DEFAULT_DELEGATION_BIAS=0.5

# Default cooldown period (milliseconds)
# [OPTIONAL]
# Default: 5000 (5 seconds)
DEFAULT_COOLDOWN=5000

# ========================================
# DEVELOPMENT & DEBUGGING
# ========================================
# [DEVELOPMENT] Only use in development environment

# Enable debug mode
# [OPTIONAL]
# Values: true | false
# Default: false
DEBUG=false

# Enable verbose logging
# [OPTIONAL]
# Values: true | false
# Default: false
VERBOSE=false

# Expose debug endpoints
# [OPTIONAL] ⚠️ WARNING: Never enable in production
# Values: true | false
# Default: false
ENABLE_DEBUG_ENDPOINTS=false

# ========================================
# PRODUCTION DEPLOYMENT
# ========================================
# [PRODUCTION] Additional settings for production

# Trust Proxy
# [PRODUCTION] Enable if behind reverse proxy (nginx, apache)
# Values: true | false
# Default: false
TRUST_PROXY=false

# Force HTTPS
# [PRODUCTION] Redirect HTTP to HTTPS
# Values: true | false
# Default: false
FORCE_HTTPS=false

# HSTS Max Age (seconds)
# [PRODUCTION] HTTP Strict Transport Security
# Default: 31536000 (1 year)
HSTS_MAX_AGE=31536000

# Session Secret
# [PRODUCTION] For session management if implemented
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=

# ========================================
# QUICK START EXAMPLES
# ========================================
#
# Minimal Development Setup:
# --------------------------
# PORT=3000
# NODE_ENV=development
# DB_PASSWORD=your_dev_password
# ADMIN_API_KEY=dev_admin_key_123
# LLM_API_KEY=dev_llm_key_123
# LLM_PROVIDER=openai
# OPENAI_API_KEY=sk-...
#
# Production Setup:
# -----------------
# PORT=3000
# NODE_ENV=production
# JWT_SECRET=<64-char-random-hex>
# ADMIN_API_KEY=<64-char-random-hex>
# LLM_API_KEY=<64-char-random-hex>
# DB_HOST=your-db-host.com
# DB_NAME=fgd_aicraft_prod
# DB_USER=fgd_app_user
# DB_PASSWORD=<strong-random-password>
# ALLOWED_ORIGINS=https://yourdomain.com
# LLM_PROVIDER=openai
# OPENAI_API_KEY=sk-...
# ENABLE_COMPRESSION=true
# TRUST_PROXY=true
# FORCE_HTTPS=true
# LOG_LEVEL=WARN
# LOG_TO_FILE=true
#
# ========================================
# SECURITY CHECKLIST FOR PRODUCTION
# ========================================
#
# Before deploying to production, ensure:
#
# ✓ Changed ADMIN_API_KEY from default 'folks123'
# ✓ Changed LLM_API_KEY from default 'llm-key-change-me'
# ✓ Set strong JWT_SECRET (64+ character random string)
# ✓ Set strong DB_PASSWORD (not 'postgres')
# ✓ Changed DB_USER from default 'postgres'
# ✓ Set ALLOWED_ORIGINS (not '*')
# ✓ Set NODE_ENV=production
# ✓ Enabled HTTPS (FORCE_HTTPS=true)
# ✓ Set appropriate LOG_LEVEL (WARN or ERROR)
# ✓ Disabled DEBUG and ENABLE_DEBUG_ENDPOINTS
# ✓ Set SESSION_SECRET if using sessions
# ✓ Configured Redis for production caching
# ✓ Enabled rate limiting with appropriate limits
# ✓ Set TRUST_PROXY=true if behind reverse proxy
# ✓ Reviewed and set all [REQUIRED] variables
#
# ========================================
